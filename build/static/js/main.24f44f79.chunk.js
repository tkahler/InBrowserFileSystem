(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(13)},13:function(e,t,a){"use strict";a.r(t);var n,l=a(8),i=a(7),s=a(9),c=a(2),r=a(6),o=a(5),d=a(0),h=a.n(d),u=a(11),m=a.n(u),p=(a(19),a(10)),b=function e(t,a,n){Object(o.a)(this,e),this.name=t,this.type=a,this.children=n},f=function(){function e(){Object(o.a)(this,e);var t=new b("root","Folder",[]);this.allItems={rootFolder:t}}return Object(r.a)(e,[{key:"loadTree",value:function(e){this.allItems=e}},{key:"addItem",value:function(e,t){var a=e.substring(0,e.lastIndexOf("/")),n=this.allItems[a+"Folder"].children;if(n.indexOf(e+t)<=-1){n.push(e+t);var l=new b(e,t,[]);return this.allItems[e+t]=l,this._getAllChildNodes(n)}return null}},{key:"getDirectoryChildren",value:function(e){return this._getAllChildNodes(this.allItems[e+"Folder"].children)}},{key:"deleteItem",value:function(e,t){delete this.allItems[e+t],console.log(e);var a=e.substring(0,e.lastIndexOf("/")),n=this.allItems[a+t].children,l=n.indexOf(e+t);return n.splice(l,1),this._getAllChildNodes(n)}},{key:"renameItem",value:function(e,t,a){var n=e.substring(0,e.lastIndexOf("/")),l=this.allItems[n+"Folder"].children;if(l.indexOf(t+a)<=-1){var i=l.indexOf(e+a);l[i]=t+a;var s=t+a;return this.allItems[s]=this.allItems[e+a],this.allItems[s].name=t,delete this.allItems[e],this._getAllChildNodes(l)}return null}},{key:"_getAllChildNodes",value:function(e){var t=this;return e.map(function(e){return t.allItems[e]})}}]),e}();if(null===localStorage.getItem("Data"))n=new f;else{n=new f;var k=JSON.parse(localStorage.getItem("Data"));n.loadTree(k)}var v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={children:n.getDirectoryChildren("root").concat(),path:"root"},a.handleAddItem=a.handleAddItem.bind(Object(c.a)(Object(c.a)(a))),a.renderFolders=a.renderFolders.bind(Object(c.a)(Object(c.a)(a))),a.handleItemClick=a.handleItemClick.bind(Object(c.a)(Object(c.a)(a))),a.handleParentClick=a.handleParentClick.bind(Object(c.a)(Object(c.a)(a))),a.handleItemDelete=a.handleItemDelete.bind(Object(c.a)(Object(c.a)(a))),a.handleRename=a.handleRename.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleAddItem",value:function(e,t){var a=this.state.path+"/"+e,l=n.addItem(a,t,[]);l?this.setState({children:l.concat()}):alert("A "+t+" with this name already exists!")}},{key:"handleItemClick",value:function(e,t){if("Folder"===t){console.log(e);var a=n.getDirectoryChildren(e).concat();this.setState({children:a,path:e})}}},{key:"handleParentClick",value:function(){if("root"!==this.state.path){var e=this.state.path.slice();e=e.substring(0,e.lastIndexOf("/"));var t=n.getDirectoryChildren(e);this.setState({children:t.concat(),path:e})}}},{key:"handleItemDelete",value:function(e,t){var a=n.deleteItem(e,t);this.setState({children:a.concat()})}},{key:"handleRename",value:function(e,t,a){var l=this.state.path+"/"+t,i=n.renameItem(e,l,a);i?this.setState({children:i.concat()}):alert("A "+a+" with this name already exists")}},{key:"renderFolders",value:function(){var e=this;localStorage.setItem("Data",JSON.stringify(n.allItems));var t=this.state.children.concat();return t.sort(function(e,t){return e.type<t.type}),t.map(function(t){return h.a.createElement(y,{type:t.type,key:t.name+t.type,name:t.name,onClick:e.handleItemClick,onDeleteClick:e.handleItemDelete,onRenameClick:e.handleRename})})}},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement(C,{type:"Folder",onClick:this.handleAddItem}),h.a.createElement(C,{type:"File",onClick:this.handleAddItem}),h.a.createElement(j,{onClick:function(){return e.handleParentClick()}})),h.a.createElement("div",null,h.a.createElement("h3",null,this.state.path)),h.a.createElement("div",null,this.renderFolders()))}}]),t}(h.a.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={renaming:!1,name:a.props.name,type:a.props.type},a.handleMenuRename=a.handleMenuRename.bind(Object(c.a)(Object(c.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(c.a)(Object(c.a)(a))),a.handleRename=a.handleRename.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleMenuRename",value:function(){this.setState({renaming:!0})}},{key:"handleCloseModal",value:function(){this.setState({renaming:!1})}},{key:"handleRename",value:function(e){this.props.onRenameClick(this.state.name,e,this.state.type)}},{key:"render",value:function(){var e,t=this;return e="Folder"===this.props.type?"https://cdn4.iconfinder.com/data/icons/small-n-flat/24/folder-blue-128.png":"https://static.thenounproject.com/png/47347-200.png",h.a.createElement("div",null,h.a.createElement(p.b,{id:this.state.name+this.state.type},h.a.createElement("div",{className:"files",onClick:function(){return t.props.onClick(t.state.name,t.state.type)}},h.a.createElement("p",null,h.a.createElement("img",{src:e,alt:this.state.type+" Icon"}),this.props.name))),h.a.createElement(p.a,{id:this.state.name+this.state.type},h.a.createElement(p.c,{onClick:this.handleMenuRename},"Rename"),h.a.createElement(p.c,{onClick:function(){return t.props.onDeleteClick(t.state.name,t.state.type)}},"Delete")),this.state.renaming?h.a.createElement(O,{onClick:this.handleRename,closeModal:this.handleCloseModal,submitName:"Rename "+this.state.type}):null)}}]),t}(h.a.Component),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={displayModal:!1},a.onClick=a.onClick.bind(Object(c.a)(Object(c.a)(a))),a.handleCloseModal=a.handleCloseModal.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(){this.setState({displayModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({displayModal:!1})}},{key:"render",value:function(){var e=this.props.type;return h.a.createElement("div",{className:"menuButtonsCont"},h.a.createElement("button",{id:"addFolderButton",onClick:this.onClick},"Add ",e),this.state.displayModal?h.a.createElement(O,{type:this.props.type,closeModal:this.handleCloseModal,onClick:this.props.onClick,submitName:"Add "+e}):null)}}]),t}(h.a.Component),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={submitValue:""},a.handleSpanClick=a.handleSpanClick.bind(Object(c.a)(Object(c.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a.handleChange=a.handleChange.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleSpanClick",value:function(){this.props.closeModal()}},{key:"handleSubmit",value:function(e){this.handleSpanClick(),this.props.onClick(this.state.submitValue,this.props.type),e.preventDefault()}},{key:"handleChange",value:function(e){this.setState({submitValue:e.target.value})}},{key:"render",value:function(){var e=h.a.createElement("div",{id:"myModal",className:"modal"},h.a.createElement("div",{className:"modal-content"},h.a.createElement("span",{className:"close",onClick:this.handleSpanClick},"\xd7"),h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("label",null,this.props.type," Name:",h.a.createElement("input",{type:"text",value:this.state.submitValue,onChange:this.handleChange})),h.a.createElement("input",{className:"submitButton",type:"submit",value:this.props.submitName})))),t=document.getElementById("last");return m.a.createPortal(e,t)}}]),t}(h.a.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"menuButtonsCont"},h.a.createElement("button",{id:"backButton",onClick:function(){return e.props.onClick()}},"Go Back"))}}]),t}(h.a.Component);m.a.render(h.a.createElement(v,null),document.getElementById("app"))},19:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.24f44f79.chunk.js.map